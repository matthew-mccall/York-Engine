<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>York Engine: York-Engine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">York Engine<span id="projectnumber">&#160;0.1.0</span>
   </div>
   <div id="projectbrief">Realtime 3D Platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">York-Engine </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a><img src="https://img.shields.io/github/workflow/status/mxtt-mmxix/York-Engine/CMake?logo=ubuntu" alt="Ubuntu Build Support" class="inline"/> <img src="https://img.shields.io/github/license/mxtt-mmxix/York-Engine" alt="BSD-2-Clause License" class="inline"/> <a href="https://img.shields.io/badge/Documentation-https%3A%2F%2Fyork.mmccall.dev-blue"><img src="https://img.shields.io/badge/Documentation-https%3A%2F%2Fyork.mmccall.dev-blue" alt="Documentation" class="inline"/></a></p>
<p >A platform for developing realtime interactive 3D media.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Building</h1>
<h2><a class="anchor" id="autotoc_md2"></a>
Dependencies</h2>
<p >York-Engine uses <a href="https://github.com/microsoft/vcpkg">vcpkg</a> to manage its dependencies. As a result, it is a matter of running <code>./utils/Setup.sh</code> then <code>./utils/InstallDependencies.sh</code> (or <code>.\utils\Setup.bat</code> and <code>.\utils\InstallDependencies.bat</code> on Windows respectively) for the end user. The following describes the projects used and some install notes. Please note that any redistributions of York-Engine must not only respect our <a href="https://github.com/mxtt-mmxix/York-Engine/blob/main/LICENSE">license</a>, but our dependencies' licenses as well. </p>
<h3><a class="anchor" id="autotoc_md3"></a>
LunarG Vulkan SDK</h3>
<p ><a href="https://vulkan.lunarg.com/sdk/home">https://vulkan.lunarg.com/sdk/home</a></p>
<p >You may <em>optionally</em> install the tools included in the SDK instead of the SDK itself. See the LunarG documentation for more information. At bare minimum, York-Engine needs the <a href="https://github.com/khronosgroup/vulkan-hpp">C++ Vulkan Headers</a>, <a href="https://github.com/KhronosGroup/Vulkan-Loader">Vulkan Loader</a>, <a href="https://github.com/KhronosGroup/Vulkan-ValidationLayers">Validation Layers</a>, and any other development packages or drivers necessary if you were to opt out of installing the SDK. </p>
<h3><a class="anchor" id="autotoc_md4"></a>
SDL2</h3>
<p ><a href="https://libsdl.org/">https://libsdl.org/</a></p>
<p >Version 2.0.18 or newer. On Windows, vcpkg should try to install the dynamic libraries for SDL2. This is necessary as dynamic linking prevents some issues that will occur with static linking. However on macOS and Linux, vcpkg will try to reference an existing installation of SDL2. As such, one needs to install the SDL2 dynamic libraries on macOS and Linux via their package manager (including Homebrew or MacPorts). If version 2.0.18 or newer is not available, SDL2 comes submoduled. In this case you must <a href="https://wiki.libsdl.org/Installation#linuxunix">build and install SDL2</a> manually prior to running that startup scripts. (You may need Autotools)</p>
<h3><a class="anchor" id="autotoc_md5"></a>
libcurl</h3>
<p ><a href="https://curl.se/libcurl/">https://curl.se/libcurl/</a></p>
<p >Used to perform network requests. You may need to <a href="https://github.com/openssl/openssl/issues/13761#issuecomment-753686265">install Perl to build OpenSSL</a> which is a dependency of curl, otherwise vcpkg installation may fail.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
CMake</h2>
<p >To build the York-Engine Library and Runtime:</p><ul>
<li>Install SDL2 and Perl if not already installed.</li>
<li>Run the setup script: <code>./utils/Setup.sh</code>.</li>
<li>Install dependencies: <code>./utils/InstallDependencies.sh</code>.</li>
<li>Use <a href="https://cmake.org/">CMake</a> to generate the build files for the project: <code>cmake -B build .</code>.</li>
<li>Then, build the project: <code>cmake --build build</code>.</li>
<li>To build the sample: <code>cmake --build build -- SampleLayer</code>.</li>
</ul>
<h3><a class="anchor" id="autotoc_md7"></a>
CMake Options</h3>
<h4><a class="anchor" id="autotoc_md8"></a>
BUILD_SHADERC</h4>
<p >It has been observed on some platforms (so far Linux) that there may be issues with linking libshaderc. As such, set this option to <code>ON</code> (<code>-DLIBSHADERC=ON</code>) when invoking CMake. This will cause libshaderc to be built from source and linked to the Engine.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
Using</h1>
<h2><a class="anchor" id="autotoc_md10"></a>
Sample</h2>
<p >A sample application is located in the <a href="https://github.com/mxtt-mmxix/York-Engine/tree/main/sample"><code>/sample/</code></a> folder. See that folder for a reference on how to develop a York-Engine client application.</p>
<h2><a class="anchor" id="autotoc_md11"></a>
How it works</h2>
<div class="fragment"><div class="line">York-Engine     york::Layer ◀─ York-Engine</div>
<div class="line">     │               │                     </div>
<div class="line">     │               └─▶ class yourLayer ┐</div>
<div class="line">     ▼                                   │</div>
<div class="line">  Runtime ◀─ createLayer() ◀── Client ◀──┘</div>
</div><!-- fragment --><p> The York-Engine is a library that provides an API to make developing real-time, interactive programs easier. However, instead of requiring the client to build an executable linked to York-Engine, York-Engine provides its own Runtime. Thus, all the client needs to do is to inherit the <code><a class="el" href="classyork_1_1_layer.html" title="A layer represents a modular part of your application.">york::Layer</a></code> class, and define a function which returns a <code><a class="el" href="classyork_1_1_layer.html" title="A layer represents a modular part of your application.">york::Layer</a>*</code>. This must be compiled a shared object and will be loaded by the Runtime. The Runtime will search for your function and create your Layer and manages platform initialization for you. A layer source file might look like the following: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_york_8hpp.html">york/York.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>SampleLayer : <span class="keyword">public</span> <a class="code hl_class" href="classyork_1_1_layer.html">york::Layer</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    SampleLayer() {}</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="classyork_1_1_layer.html#a2b657b79db3e4de404cb5cc905a4d8bb">onAttach</a>()<span class="keyword"> override </span>{}</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="classyork_1_1_event_handler.html#ad88fe6227fbae2970b83c60e74c60d0d">onEvent</a>(<a class="code hl_struct" href="structyork_1_1_event.html">york::Event</a>&amp; e)<span class="keyword"> override </span>{}</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="classyork_1_1_layer.html#ae0a1e174f2dcc69097e3f7a721f513d7">onUpdate</a>(<span class="keywordtype">float</span> deltaTime)<span class="keyword"> override </span>{}</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="classyork_1_1_layer.html#a71754d104f7966d5e729d516dbebc84d">onRender</a>()<span class="keyword"> override </span>{}</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="classyork_1_1_layer.html#adeeb05288805f99d152b0b37580393a3">onDetach</a>()<span class="keyword"> override </span>{}</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <a class="code hl_class" href="classyork_1_1_layer.html">york::Layer</a>* createLayer()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">new</span> SampleLayer();</div>
<div class="line">}</div>
<div class="ttc" id="a_york_8hpp_html"><div class="ttname"><a href="_york_8hpp.html">York.hpp</a></div></div>
<div class="ttc" id="aclassyork_1_1_event_handler_html_ad88fe6227fbae2970b83c60e74c60d0d"><div class="ttname"><a href="classyork_1_1_event_handler.html#ad88fe6227fbae2970b83c60e74c60d0d">york::EventHandler::onEvent</a></div><div class="ttdeci">virtual void onEvent(Event &amp;e)=0</div></div>
<div class="ttc" id="aclassyork_1_1_layer_html"><div class="ttname"><a href="classyork_1_1_layer.html">york::Layer</a></div><div class="ttdoc">A layer represents a modular part of your application.</div><div class="ttdef"><b>Definition:</b> Layer.hpp:46</div></div>
<div class="ttc" id="aclassyork_1_1_layer_html_a2b657b79db3e4de404cb5cc905a4d8bb"><div class="ttname"><a href="classyork_1_1_layer.html#a2b657b79db3e4de404cb5cc905a4d8bb">york::Layer::onAttach</a></div><div class="ttdeci">virtual void onAttach()</div><div class="ttdoc">A function that will be called when the layer is attached to the stack.</div><div class="ttdef"><b>Definition:</b> Layer.hpp:53</div></div>
<div class="ttc" id="aclassyork_1_1_layer_html_a71754d104f7966d5e729d516dbebc84d"><div class="ttname"><a href="classyork_1_1_layer.html#a71754d104f7966d5e729d516dbebc84d">york::Layer::onRender</a></div><div class="ttdeci">virtual void onRender()</div><div class="ttdoc">A function that will be called on every frame.</div><div class="ttdef"><b>Definition:</b> Layer.hpp:65</div></div>
<div class="ttc" id="aclassyork_1_1_layer_html_adeeb05288805f99d152b0b37580393a3"><div class="ttname"><a href="classyork_1_1_layer.html#adeeb05288805f99d152b0b37580393a3">york::Layer::onDetach</a></div><div class="ttdeci">virtual void onDetach()</div><div class="ttdoc">A function that will be called when the layer is detached from the stack.</div><div class="ttdef"><b>Definition:</b> Layer.hpp:70</div></div>
<div class="ttc" id="aclassyork_1_1_layer_html_ae0a1e174f2dcc69097e3f7a721f513d7"><div class="ttname"><a href="classyork_1_1_layer.html#ae0a1e174f2dcc69097e3f7a721f513d7">york::Layer::onUpdate</a></div><div class="ttdeci">virtual void onUpdate(float deltaTime)</div><div class="ttdoc">A function that will be called on every tick.</div><div class="ttdef"><b>Definition:</b> Layer.hpp:60</div></div>
<div class="ttc" id="astructyork_1_1_event_html"><div class="ttname"><a href="structyork_1_1_event.html">york::Event</a></div><div class="ttdoc">Represents Event data.</div><div class="ttdef"><b>Definition:</b> Event.hpp:45</div></div>
</div><!-- fragment --><p> It is important to note that your create function must not be name-mangled as to make it easier for the Runtime to search and call the function, hence the <code>extern "C"</code>. Otherwise, this is how client applications will be structured: A series of classes that implement <code><a class="el" href="classyork_1_1_layer.html" title="A layer represents a modular part of your application.">york::Layer</a></code>, each defining a create function and compiled into a separate standalone shared object. The name of the shared object, excluding any platform prefixes such as "lib" and file extension will be the name of the layer. For example, <code>libSampleLayer.so</code> will be treated as a layer with the name <code>SampleLayer</code>.</p>
<h3><a class="anchor" id="autotoc_md12"></a>
Client.xml</h3>
<p >The Runtime will search for and load layers from the current working directory only. However, the Runtime needs to know which layers its looking for. Thus, the Runtime expects each application to have a <code>Client.xml</code> manifest. This manifest contains the name of the client, the name of the layers, and the name of the create function. A <code>Client.xml</code> file might look like the following: </p><div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div>
<div class="line">&lt;<span class="keywordtype">Client</span> <span class="keyword">xmlns</span>=<span class="stringliteral">&quot;https://mxtt-mmxix.github.io/York-Engine/&quot;</span></div>
<div class="line">        <span class="keyword">xmlns:xsi</span>=<span class="stringliteral">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></div>
<div class="line">        <span class="keyword">xsi:schemaLocation</span>=<span class="stringliteral">&quot;https://mxtt-mmxix.github.io/York-Engine/ https://raw.githubusercontent.com/mxtt-mmxix/York-Engine/runtime-impl/Client.xsd&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Name</span>&gt;<span class="keyword">SampleClient</span>&lt;/<span class="keywordtype">Name</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Layers</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">Layer</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">Name</span>&gt;<span class="keyword">SampleLayer</span>&lt;/<span class="keywordtype">Name</span>&gt;</div>
<div class="line">            &lt;<span class="keywordtype">CreateFunction</span>&gt;<span class="keyword">createLayer</span>&lt;/<span class="keywordtype">CreateFunction</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">Layer</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">Layers</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Client</span>&gt;</div>
</div><!-- fragment --><p> Note that the <code>&lt;Name /&gt;</code> of the layer is platform independent, the Runtime will automatically add any prefixes and file extension to the name to find the layer. Also note that the XML above makes use of a Schema. You are encouraged to produce well-formed and valid XML for describing your application.</p>
<p >A collection of a <code>Client.xml</code> file, Layer shared object files, and assets are considered to be a York-Engine client application. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
